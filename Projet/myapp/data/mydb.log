/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
\u000a    create table TGroup (\u000a       id bigint not null,\u000a        group_name varchar(200) not null,\u000a        version bigint not null,\u000a        primary key (id)\u000a    )
\u000a    create table TGroup_TPerson (\u000a       Group_id bigint not null,\u000a        personsInGroup_id_Person bigint not null\u000a    )
\u000a    create table TPerson (\u000a       id_Person bigint not null,\u000a        birth_day date,\u000a        first_name varchar(200) not null,\u000a        last_name varchar(200) not null,\u000a        mail varchar(200),\u000a        password varchar(200) not null,\u000a        version bigint not null,\u000a        site_web varchar(200),\u000a        primary key (id_Person)\u000a    )
\u000a    alter table TGroup \u000a       add constraint UK_lpjq5fw3ycc2rmau0t37vrhef unique (group_name)
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
\u000a    alter table TPerson \u000a       add constraint UK_n93ymdndqfr8nf956891jk876 unique (first_name)
\u000a    alter table TPerson \u000a       add constraint UK_qymi4k9gfckjf6r5kavwkujyb unique (last_name)
\u000a    alter table TPerson \u000a       add constraint UK_honsvpntc2m7yvw8a1ipq3qk unique (mail)
\u000a    alter table TPerson \u000a       add constraint UK_tbrkrdjek4rtimkeiqftydn3j unique (password)
\u000a    alter table TPerson \u000a       add constraint UK_b34385dbiacbfcbfut01bv7ld unique (site_web)
\u000a    alter table TGroup_TPerson \u000a       add constraint FK491jlf8kvhp245vtn7wkj81uv \u000a       foreign key (personsInGroup_id_Person) \u000a       references TPerson
\u000a    alter table TGroup_TPerson \u000a       add constraint FK7gen15ngl1pi3o5ckhdc6hdk5 \u000a       foreign key (Group_id) \u000a       references TGroup
/*C3*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
/*C4*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
/*C5*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
/*C4*/INSERT INTO TPERSON VALUES(10,NULL,'Painbeurre','Tartiflette',NULL,'password',0,NULL)
COMMIT
/*C5*/INSERT INTO TGROUP VALUES(1,'Noobs',0)
COMMIT
/*C6*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
DELETE FROM TPERSON WHERE ID_PERSON=10
COMMIT
/*C7*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
DELETE FROM TGROUP WHERE ID=1
COMMIT
/*C8*/SET SCHEMA PUBLIC
\u000a    alter table TGroup_TPerson \u000a       drop constraint UK_4oxqdp7io3m79avwoc7vwokgg
\u000a    alter table TGroup_TPerson \u000a       add constraint UK_4oxqdp7io3m79avwoc7vwokgg unique (personsInGroup_id_Person)
\u000a    alter table TPerson \u000a       drop constraint UK58gbcq3p83fgxehg706edmoun
\u000a    alter table TPerson \u000a       add constraint UK58gbcq3p83fgxehg706edmoun unique (first_name, birth_day)
/*C6*/INSERT INTO TPERSON VALUES(1,NULL,'Painbeurre','Totor',NULL,'password',0,NULL)
COMMIT
